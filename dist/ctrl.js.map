{"version":3,"sources":["../src/ctrl.js"],"names":["MetricsPanelCtrl","_","d3","window","console","log","treePanelCtrl","$scope","$injector","panelContainer","panel","svgContainer","treeDivId","id","containerDivId","container","scope","elem","ctrl","treeByClass","find","append","childNodes","setContainer","makeTree","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,mB,kBAAAA,gB;;AACDC,I;;AACKC,K;;;;;;;;;;;;;;;;;;;;;AAA6B;AACzCC,UAAOD,EAAP,GAAYA,EAAZ;AACAE,WAAQC,GAAR,CAAYH,EAAZ;;wDAIMI,a;;;AAEL,2BAAYC,MAAZ,EAAoBC,SAApB,EAA+B;AAAA;;AAAA,+HACxBD,MADwB,EAChBC,SADgB;;AAEhC;AACA;AACE,WAAKC,cAAL,GAAsB,IAAtB;AACA,WAAKC,KAAL,CAAWC,YAAX,GAA0B,IAA1B;AACA,WAAKD,KAAL,CAAWE,SAAX,GAAuB,cAAc,MAAKF,KAAL,CAAWG,EAAhD;AACA,WAAKC,cAAL,GAAsB,eAAe,MAAKJ,KAAL,CAAWE,SAAhD;AAP8B;AAQ9B;;;;kCAEYG,S,EAAW;AACvB,WAAKN,cAAL,GAAsBM,SAAtB;AACA,WAAKL,KAAL,CAAWC,YAAX,GAA0BI,SAA1B;AACA;;;0BAEIC,K,EAAOC,I,EAAMC,I,EAAM;AACvB,UAAIC,cAAcF,KAAKG,IAAL,CAAU,kBAAV,CAAlB;AACAD,kBAAYE,MAAZ,CAAmB,cAAYH,KAAKJ,cAAjB,GAAgC,UAAnD;AACA,UAAIC,YAAYI,YAAY,CAAZ,EAAeG,UAAf,CAA0B,CAA1B,CAAhB;AACAJ,WAAKK,YAAL,CAAkBR,SAAlB;AACAG,WAAKM,QAAL;AACA;;;;KAvB0BxB,gB;;AA0B5BM,iBAAcmB,WAAd,GAA4B,wBAA5B;;4BAECnB,a;;+BACAA,a","file":"ctrl.js","sourcesContent":["import {MetricsPanelCtrl} from 'app/plugins/sdk';\nimport _ from 'lodash';\nimport * as d3 from './external/d3.min'; // Include the d3 library\nwindow.d3 = d3;\nconsole.log(d3);\nimport './css/tree.css!';\nimport './external/tree'; // Include the sample d3 hierarchy code\n\nclass treePanelCtrl extends MetricsPanelCtrl {\n\t\n\tconstructor($scope, $injector) {\n\t\tsuper($scope, $injector);\n//\t\t_.defaults(this.panel, panelDefaults);\n//\t\tthis.treeObj = new makeTree(); // Test line\n\t\tthis.panelContainer = null;\n\t\tthis.panel.svgContainer = null;\n\t\tthis.panel.treeDivId = 'tree_svg_' + this.panel.id;\n\t\tthis.containerDivId = 'container_' + this.panel.treeDivId;\n\t}\n\n\tsetContainer(container) {\n\t\tthis.panelContainer = container;\n\t\tthis.panel.svgContainer = container;\n\t}\n\n\tlink(scope, elem, ctrl) {\n\t\tvar treeByClass = elem.find('.grafana-d3-tree');\n\t\ttreeByClass.append('<div if=\"'+ctrl.containerDivId+'\"></div>');\n\t\tvar container = treeByClass[0].childNodes[0];\n\t\tctrl.setContainer(container);\n\t\tctrl.makeTree();\n\t}\n}\n\ntreePanelCtrl.templateUrl = 'partials/template.html';\nexport {\n\ttreePanelCtrl,\n\ttreePanelCtrl as MetricsPanelCtrl\n};\n"]}